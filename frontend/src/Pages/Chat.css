.chat-container {
    height: calc(100vh - 80px);
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 2;
    overflow-y: auto;
    /* Allow scrolling if content is tall */
}

/* ... existing styles ... */

/* Video Styling */
video.preview-player {
    width: 100%;
    max-width: 450px;
    /* Smaller video */
    border-radius: 16px 16px 0 0;
    background: black;
    box-shadow: none;
    margin: 0;
    display: block;
    object-fit: contain;
}

/* New Save Controls Styles */
.video-preview {
    margin-bottom: 60px;
    /* More space below video (pushes input layout down relatively) */
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 450px;
    /* Match video width */
    border-radius: 16px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
    overflow: hidden;
    background: white;
}

/* Push input to bottom or center? Usually chat inputs are at bottom or center for initial state. 
   Based on "Make the chat component's input layout look like the provided image", 
   style just the input bar for now. */

.input-wrapper {
    width: 100%;
    max-width: 700px;
    background: white;
    border: 1px solid #e2e8f0;
    border-radius: 32px;
    padding: 8px 16px;
    display: flex;
    align-items: flex-end;
    /* Align items to bottom for multiline */
    gap: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 10px 15px rgba(0, 0, 0, 0.03);
    transition: all 0.2s ease;
    margin-bottom: 2rem;
    /* Spacing from bottom or other elements */
}

.input-wrapper:focus-within {
    border-color: var(--primary-blue);
    box-shadow: 0 4px 12px rgba(0, 122, 255, 0.15);
    transform: translateY(-1px);
}

.chat-input {
    flex: 1;
    border: none;
    background: transparent;
    font-family: inherit;
    font-size: 1rem;
    color: #1a202c;
    padding: 12px 0;
    resize: none;
    outline: none;
    max-height: 150px;
    /* Limit max height */
    overflow-y: auto;
    /* Scroll when max height reached */
    line-height: 1.5;
}

.chat-input::placeholder {
    color: #94a3b8;
}

/* Custom scrollbar for textarea */
.chat-input::-webkit-scrollbar {
    width: 4px;
}

.chat-input::-webkit-scrollbar-thumb {
    background-color: #cbd5e1;
    border-radius: 4px;
}

.icon-btn {
    background: none;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: #64748b;
    padding: 10px;
    border-radius: 50%;
    transition: all 0.2s ease;
    margin-bottom: 4px;
    /* Align with bottom of single line text */
}

.icon-btn:hover {
    background-color: #f1f5f9;
    color: #1e293b;
}

.add-btn {
    font-size: 1.2rem;
}

.send-btn {
    background-color: var(--primary-blue);
    color: white;
    width: 40px;
    height: 40px;
    padding: 0;
    margin-bottom: 4px;
    /* Align with text bottom */
}

.send-btn:hover {
    background-color: #1d4ed8;
    /* Darker blue */
    color: white;
    transform: scale(1.05);
}

.send-btn:disabled {
    background-color: #cbd5e1;
    cursor: not-allowed;
    transform: none;
}

/* Video Styling */
video.preview-player {
    width: 100%;
    max-width: 450px;
    /* Smaller video */
    border-radius: 16px 16px 0 0;
    background: black;
    box-shadow: none;
    margin: 0;
    display: block;
    object-fit: contain;
}

/* New Save Controls Styles */
.video-preview {
    margin-bottom: 60px;
    /* More space below video */
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 450px;
    /* Match video width */
    border-radius: 16px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
    overflow: hidden;
    background: white;
}

.save-controls {
    display: flex;
    flex-direction: column;
    gap: 12px;
    background: white;
    padding: 20px;
    border-radius: 0 0 16px 16px;
    border-top: 1px solid #f1f5f9;
}

.save-controls input {
    padding: 12px;
    border-radius: 8px;
    border: 1px solid #e2e8f0;
    background: #f8fafc;
    color: #334155;
    margin-bottom: 0;
    text-align: left;
}

.save-controls button {
    background: #10B981;
    color: white;
    margin-top: 5px;
    width: 100%;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.save-controls button:hover {
    background: #059669;
    box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
}

.login-message {
    color: #475569;
    margin-bottom: 10px;
    font-size: 0.95rem;
}

.login-btn-small {
    background: var(--primary-blue) !important;
    font-size: 0.9rem !important;
    padding: 10px 20px !important;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .chat-container {
        padding: 0 16px;
    }

    .chat-container input {
        font-size: 1rem;
        padding: 14px;
    }

    .chat-container button {
        padding: 14px 28px;
        font-size: 1rem;
    }
}

/* Loading Animation */
.loading-container {
    margin-bottom: 20px;
    margin-top: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    width: 100%;
}

.progress-bar-bg {
    width: 100%;
    max-width: 400px;
    height: 10px;
    background: #e2e8f0;
    border-radius: 10px;
    overflow: hidden;
    position: relative;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

.progress-bar-fill {
    height: 100%;
    background: var(--primary-blue);
    width: 0%;
    transition: width 1s linear;
    border-radius: 10px;
}

.loading-text {
    font-size: 1.1rem;
    font-weight: 500;
    color: #475569;
    min-height: 1.5rem;
    /* Prevent layout shift */
}